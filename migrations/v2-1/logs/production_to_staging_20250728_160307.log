2025-07-28 16:03:07,859 - INFO - ğŸš€ Starting Production to Staging Database Copy
2025-07-28 16:03:07,859 - INFO - ============================================================
2025-07-28 16:03:07,859 - INFO - ğŸ“ Source: Production database
2025-07-28 16:03:07,859 - INFO - ğŸ“ Target: staging database
2025-07-28 16:03:07,859 - INFO - ğŸ“ Target URL: postgresql://bravoball_staging_db_user:DszQQ1qg7XH...
2025-07-28 16:03:07,860 - INFO - 
ğŸ¯ Step 1: Creating Production Dump
2025-07-28 16:03:07,860 - INFO - ğŸ“¦ Creating production dump: /Users/Joshua/Coding/BravoBall_Backend/migrations/v2-1/backups/production_data_dump_20250728_160307.sql
2025-07-28 16:03:07,860 - INFO - ğŸ”„ Creating production dump
2025-07-28 16:03:07,860 - INFO -    Running: pg_dump postgresql://jordan:nznEGcxVZbVyX5PvYXG5LuVQ15v0Tsd5@dpg-d11nbs3ipnbc73d2e2f0-a.oregon-postgres.render.com/bravoballdb --no-owner...
2025-07-28 16:03:13,626 - INFO -    âœ… Success: Creating production dump
2025-07-28 16:03:13,627 - INFO -    âœ… Dump created: /Users/Joshua/Coding/BravoBall_Backend/migrations/v2-1/backups/production_data_dump_20250728_160307.sql
2025-07-28 16:03:13,627 - INFO - 
ğŸ¯ Step 2: Clearing Staging Database
2025-07-28 16:03:13,627 - INFO - ğŸ§¹ Clearing staging database
2025-07-28 16:03:13,628 - INFO - ğŸ”„ Clearing staging database
2025-07-28 16:03:13,628 - INFO -    Running: psql postgresql://bravoball_staging_db_user:DszQQ1qg7XH2ocCNSCU844S43SMU4G4V@dpg-d21l5oh5pdvs7382nib0-a.oregon-postgres.render.com/bravoball_staging_db -f...
2025-07-28 16:03:14,382 - INFO -    âœ… Success: Clearing staging database
2025-07-28 16:03:14,382 - INFO - 
ğŸ¯ Step 3: Restoring to Staging Database
2025-07-28 16:03:14,383 - INFO - ğŸ“¥ Restoring /Users/Joshua/Coding/BravoBall_Backend/migrations/v2-1/backups/production_data_dump_20250728_160307.sql to staging database
2025-07-28 16:03:14,383 - INFO - ğŸ”„ Restoring /Users/Joshua/Coding/BravoBall_Backend/migrations/v2-1/backups/production_data_dump_20250728_160307.sql to staging database
2025-07-28 16:03:14,383 - INFO -    Running: psql postgresql://bravoball_staging_db_user:DszQQ1qg7XH2ocCNSCU844S43SMU4G4V@dpg-d21l5oh5pdvs7382nib0-a.oregon-postgres.render.com/bravoball_staging_db -f...
2025-07-28 16:03:29,557 - INFO -    âœ… Success: Restoring /Users/Joshua/Coding/BravoBall_Backend/migrations/v2-1/backups/production_data_dump_20250728_160307.sql to staging database
2025-07-28 16:03:29,557 - INFO - 
ğŸ¯ Step 4: Verification
2025-07-28 16:03:29,557 - INFO - ğŸ” Verifying staging database data
2025-07-28 16:03:29,955 - INFO -    âœ… users: 3474 records
2025-07-28 16:03:30,334 - INFO -    âœ… drills: 78 records
2025-07-28 16:03:30,737 - INFO -    âœ… drill_groups: 136 records
2025-07-28 16:03:31,118 - INFO -    âœ… completed_sessions: 958 records
2025-07-28 16:03:31,118 - INFO - âœ… Staging verification completed
2025-07-28 16:03:31,118 - INFO - 
ğŸ‰ Production to Staging Database copy completed successfully!
2025-07-28 16:03:31,118 - INFO - ============================================================
2025-07-28 16:03:31,118 - INFO - ğŸ“± Your staging database now contains exact copy of production
2025-07-28 16:03:31,118 - INFO - ğŸ”§ Next steps:
2025-07-28 16:03:31,119 - INFO -    1. Run complete_v2_migration.py --skip-data-import
2025-07-28 16:03:31,119 - INFO -    2. Test your Flutter app with staging
2025-07-28 16:03:31,119 - INFO -    3. Apply same migration to production when ready
2025-07-28 16:03:31,136 - INFO - ğŸ§¹ Cleaned up dump file: /Users/Joshua/Coding/BravoBall_Backend/migrations/v2-1/backups/production_data_dump_20250728_160307.sql
